[root@as-50-200 ansible]# tree nginx/
nginx/
├── defaults
│   └── main.yml
├── files
├── handlers
│   └── main.yml
├── meta
│   └── main.yml
├── playbook
│   └── playbook.yml
├── README.md
├── tasks
│   └── main.yml
├── templates
├── tests
│   ├── inventory
│   └── test.yml
└── vars
    └── main.yml

[root@as-50-200 ansible]# cat nginx/playbook/playbook.yml
---
- name: Install nginx playbook
  hosts: all
  gather_facts: False
  roles:
  - ../../nginx

[root@as-50-200 ansible]# cat nginx/tasks/main.yml
---
# tasks file for httpd
- name: Install httpd
  yum:
    name: httpd
    state: latest
  register: httpd_install

- name: Debug message install
  debug:
    msg: "{{ httpd_install }}"

- name: removed httpd
  yum:
    name: httpd
    state: removed
  register: httpd_removed

- name: Debug message1 removed
  debug:
    msg: "{{ httpd_removed }}"

- name: Debug message2
  debug:
    msg: " ALL 主機已安裝完成，即將發送訊息至 telegram "

- name: Send telegram
  shell:
    curl "https://api.telegram我是token"我是token"/sendMessage?chat_id="我是頻道"&text=安裝完成囉!!!!! 我是分隔線!!!!!"


ansible_facts

[root@as-50-200 ansible]# cat ansible_fact_tester/playbook.yml
---
- name: ansible_Facts_practice
  hosts: all
  tasks:
  - name: Print all available facts
    ansible.builtin.debug:
      var:  ansible_facts

  - name: show ansible_facts_hostname
    setup:
      filter: " {{ ansible_default_ipv4.address }} "
    register: a

  - name: show ansible_facts_hostname
    debug:
      msg: " {{ a }} "

  - name: show ansible_hostname_debug
    debug:
      msg: " {{ ansible_default_ipv4.address }} "

  - name: show ansible_facts_hostname
    debug:
      msg: " {{ ansible_hostname }} "

  - name: show ansible_processor
    debug:
      msg: " {{ ansible_processor }} "
      
 心得，ansible_facts setup 出來的只需要引用第二層開始即可。
